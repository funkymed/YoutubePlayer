function onYouTubeIframeAPIReady(){youtubePlayerReady=!0}var jQYTPlayer=function(t,o,a){if(this.code=o,this.id=t,this.options={width:640,height:360,loop:!1,autoplay:"0",controls:"0",showinfo:"0",theme:"dark",start:0,policy:3,rel:0},a)for(var i in a)this.options[i]="boolean"==typeof a[i]?a[i]?"1":"0":a[i];this.loadData()};jQYTPlayer.prototype={currentTime:0,videoId:null,code:null,data:{currentTime:0,duration:0,title:""},btnClass:null,yt:null,ready:!1,paused:!1,iframe:null,timer:null,options:{},date:null,duration:0,onPause:null,onPlay:null,onStop:null,onPlaying:null,onReadyCallback:null,onLoadDataCallback:null,onStateChangeCallback:null,onEnd:null,onBufferize:null,loadData:function(t){this.onlyupdate=t?!0:!1,this.onlyupdate||this.onYTReady(),"function"==typeof this.onLoadDataCallback&&this.onLoadDataCallback()},onYTReady:function(){youtubePlayerReady?(this.yt=new YT.Player(this.id,{videoId:this.code,width:this.options.width,height:this.options.height,timeout:0,playerVars:{controls:this.options.controls,showinfo:this.options.showinfo,autoplay:this.options.autoplay,enablejsapi:0,start:this.options.start,theme:this.options.theme,iv_load_policy:this.options.policy,wmode:"transparent",rel:this.options.rel},events:{onReady:$.proxy(this.onReady,this),onStateChange:$.proxy(this.onStateChange,this)}}),this.iframe=this.yt.getIframe()):setTimeout($.proxy(this.onYTReady,this),300)},onReady:function(){this.ready=!0,this.data.title=this.yt.getVideoData().title,this.data.duration=this.yt.getDuration(),this.timer=setInterval($.proxy(this.follower,this),1e3),"function"==typeof this.onReadyCallback&&this.onReadyCallback(),"function"==typeof this.onLoadDataCallback&&this.onLoadDataCallback()},onStateChange:function(t){switch(this.yt&&(this.data.title=this.yt.getVideoData().title),"function"==typeof this.onLoadDataCallback&&this.onLoadDataCallback(),t.data){case YT.PlayerState.BUFFERING:case YT.PlayerState.CUED:this.loading(!0),"function"==typeof this.onBufferize&&this.onBufferize();break;case YT.PlayerState.ENDED:"1"==this.options.loop?(this.seekTo(0),this.play()):this.stop(),"function"==typeof this.onEnd&&this.onEnd();break;case YT.PlayerState.PAUSED:this.paused=!0,"function"==typeof this.onPause&&this.onPause();break;case YT.PlayerState.PLAYING:this.paused=!1,this.loading(!1),"function"==typeof this.onPlay&&this.onPlay()}"function"==typeof this.onStateChangeCallback&&this.onStateChangeCallback()},pause:function(){this.ready&&this.yt.pauseVideo()},play:function(t){this.ready&&(this.loading(!0),t?(this.code=t,this.loadData(!0),this.yt.loadVideoById(t)):this.yt.playVideo())},stop:function(){if(this.ready){this.seekTo(0);var t=this.yt;setTimeout(function(){t&&t.stopVideo()},100),"function"==typeof this.onStop&&this.onStop()}},setVolume:function(t){this.ready&&this.yt.setVolume(t)},seekTo:function(t){this.ready&&this.yt.seekTo(t)},follower:function(){this.data.currentTime=this.yt.getCurrentTime(),this.data.duration=this.yt.getDuration(),"function"==typeof this.onPlaying&&this.onPlaying()},getProgress:function(){return Math.round(this.data.currentTime/this.data.duration*100)},loading:function(t){t?$(this.loader).length&&$(this.loader).show():$(this.loader).length&&$(this.loader).hide()}};var youtubePlayerReady=!1;jQuery.fn.extend({jQYTPlayer:function(t,o){var a=new jQYTPlayer($(this).attr("id"),t,o);return $(window).on("resize",$.proxy(a.onResize,a)),a}});